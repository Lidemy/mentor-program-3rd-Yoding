## 什麼是 DOM？
瀏覽器渲染網頁時，會將HTML文件內的各個標籤定義為物件，並依照他的層級順序構成樹狀結構，如下圖。
![](https://i.imgur.com/gftbYsM.gif)

這種構型被稱為文件物件模型（ DOM , Document Object Model）。 在前面的樹狀圖中，每一個方塊都是一個**節點(node)**，所有節點則能夠分成：Document、Element、Text、Attribute 四類。

- 其中 Element 是組成 DOM 的核心成分，從圖中可以發現`<div>`、`<body>`等 HTML 標籤都屬於這一類。
- Text 一類則是被標籤包裹的文字。
- Attribute 一類包含了 Element 所擁有的`<style>`、`<href>`、`<class>`等屬性。
- 總和這些節點形成的 Document，其實也就是 HTML 文件本身。

知道了這些 DOM 的構造到底能做什麼？坦白說，這我還不敢說自己了解的很透徹，但我知道不同節點設定如果互相衝突時，DOM 有自己的優先順序，如同影像軟體裡的圖層概念， DOM 的構成決定了 CSS 設定能影響的範圍，當中的節點更是 Javascript 運作的基礎。 

## 事件傳遞機制的順序是什麼；什麼是冒泡，什麼又是捕獲？
引 Kuro 大大[說法](https://ithelp.ithome.com.tw/articles/10191970)JavaScript 是種事件驅動（Event-driven）的程式語言，儘管瀏覽器在讀取 JS 後會立即解析，但執行動作必須等到設定的「事件」被觸發，如同辦公室的電話要響了才會有人去接，沒人打來自然不會有接電話舉動。

觸發的動作被稱為「事件」(Event)，負責處理事件的程式通常被稱為「事件處理者」(Event Handler)，而處理事件的過程將依循捕獲、冒泡兩種流程行動。先回到接電話的例子，把前面提到的 DOM 想像成一個大型的辦公室，那麼事件觸發機制可以想像成以下：

>1.有人打電話到最內側的辦公室<br>
>2.助理從門口穿越層層阻礙，尋找電話<br>
>3.助理接起電話<br>
>4.助理帶著訪客訊息穿越層層阻礙，尋找老闆<br>
>5.客戶的訊息交到老闆手中<br>

整個過程代換成「網頁接收事件的順序」時，前面助理尋找訊息來源的過程是「捕獲機制(Event Capturing)」，稍後往上呈遞訊息的則「冒泡機制(Event Bubbling)」，被觸發的事件會「從啟動事件的元素節點開始，逐層往上傳遞」。在實際運作中，是捕獲機制先行，接著才是冒泡機制，不過有時傳遞與冒泡機制的程式[位置先後](https://ithelp.ithome.com.tw/articles/10191970)也會影響運行順序。

## 什麼是 event delegation，為什麼我們需要它？

由於 DOM 事件傳遞機制的「冒泡機制」，讓子元素接受到事件後會將事件往上回傳至母元素，因此當我們必須對大量的元素進行相同事件的處理時，可以在母元素掛設事件代理機制（Event delegation），如以一來可以減少DOM操作，節省記憶體資源。


## event.preventDefault() 跟 event.stopPropagation() 差在哪裡，可以舉個範例嗎？
這兩者的差別在能否阻斷事件傳遞機制，`event.preventDefault()` 可以使頁面元素的預設功能失效，但事件仍會透過冒泡機制傳遞，如果要完全阻卻事件傳遞，就要使用 `event.stopPropagation()`。

假設我們今天設定了元素 Google 在 `<a>`標籤設定下可以轉往 Google 首頁，同時每次點擊都會印出「Linked to Google.」但因為網頁還沒完工，我們不想每次按到 Google 就跳頁，這時候就可以在元素上註冊點擊事件，並且在 function 中帶上 `e.preventDefault()`接下來，按下 Google 我們還是會留在原本的頁面，因為`<a>`超連結的功能失效了，可是同一時間，在 Console 中還是會印出原本設定的句子，因為點擊事件的傳遞機制沒有中斷。

但如果我們改用 `event.stopPropagation` ，並且設定在捕獲階段就阻斷，就會出現頁面跳轉，但不印出句子的情形。